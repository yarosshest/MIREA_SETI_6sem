Шаг 2. Проверьте настройки коммутатора по умолчанию.
На данном этапе вам нужно проверить такие параметры коммутатора по умолчанию, как текущие
настройки коммутатора, данные IOS, свойства интерфейса, сведения о VLAN и флеш-память.
Все команды IOS коммутатора можно выполнять из привилегированного режима. Доступ к
привилегированному режиму нужно ограничить с помощью пароля, чтобы предотвратить
неавторизованное использование устройства — через этот режим можно получить прямой доступ к
режиму глобальной конфигурации и командам, используемым для настройки рабочих параметров.
Пароли можно будет настроить чуть позже.

a. Предположим, что коммутатор не имеет файла конфигурации, сохраненного в энергонезависимой
памяти (NVRAM). Консольное подключение к коммутатору с помощью Tera Term или другой
программы эмуляции терминала предоставит доступ к командной строке пользовательского
режима EXEC в виде Switch>. Войдите в привилегированный режим EXEC.
Откройте окно конфигурации
Обратите внимание, что измененная в конфигурации строка будет отражать привилегированный
режим EXEC.

```S1_Shestakov>enable```

b. Изучите текущий файл running configuration.
Вопросы:

Сколько интерфейсов FastEthernet имеется на коммутаторе 2960?  ***24***

Сколько интерфейсов Gigabit Ethernet имеется на коммутаторе 2960?  ***2***

Каков диапазон значений, отображаемых в vty-линиях? ***16***

```S1_Shestakov#show running-config```

c. Изучите файл загрузочной конфигурации (startup configuration), который содержится в
энергонезависимом ОЗУ (NVRAM).

```
S1_Shestakov#show startup-config
startup-config is not present
```

d. Изучите характеристики SVI для VLAN 1.
Какие выходные данные вы видите?

```S1_Shestakov#show interface vlan1```

e. Изучите сведения о версии ОС Cisco IOS на коммутаторе.
Вопросы:

Под управлением какой версии ОС Cisco IOS работает коммутатор? 15.0 ***se4***

Как называется файл образа системы?  ***"flash:c2960-lanbasek9-mz.150-2.SE4.bin"***

Какой базовый MAC-адрес назначен коммутатору? ***00:90:21:53:74:C2***

```S1_Shestakov#show version```

f. Изучите свойства по умолчанию интерфейса FastEthernet, который используется компьютером PCA.
Интерфейс включен или выключен?
Что нужно сделать, чтобы включить интерфейс?

Какой MAC-адрес у интерфейса? ***0090.21ae.d406***

Какие настройки скорости и дуплекса заданы в интерфейсе? ***Full-duplex, 100Mb/s***

```S1_Shestakov#show interface f0/6```

g. Изучите параметры сети VLAN по умолчанию на коммутаторе.

Какое имя присвоено сети VLAN 1 по умолчанию? ***default***

Какие порты расположены в сети VLAN 1? ***физические***

Активна ли сеть VLAN 1? ***да***

К какому типу сетей VLAN принадлежит VLAN по умолчанию? ***локальному***

```S1_Shestakov# show vlan```

h. Изучите флеш-память.
Выполните одну из следующих команд, чтобы изучить содержимое флеш-каталога.
Switch# show flash
Switch# dir flash:
В конце имени файла указано расширение, например, .bin. Каталоги не имеют расширения файла.
Вопрос:

Какое имя присвоено образу ***Cisco IOS? 2960-lanbasek9-mz.150-2.SE4.bin***

a. В режиме глобальной конфигурации скопируйте следующие базовые параметры конфигурации и
вставьте их в файл на коммутаторе S1_ФАМИЛИЯ.
```
no ip domain-lookup
hostname S1_ФАМИЛИЯ
service password-encryption
enable secret class
banner motd #
Unauthorized access is strictly prohibited. #

S1_Shestakov#configure terminal
```

b. Назначьте IP-адрес интерфейсу SVI на коммутаторе. Благодаря этому вы получите возможность
удаленного управления коммутатором


```
S1_Shestakov#configure terminal
S1_Shestakov(config)#valn 27
S1_Shestakov(config)#exit
S1_Shestakov#configure terminal
S1_Shestakov(config)#vlan 27
S1_Shestakov(config-vlan)#exit
S1_Shestakov(config)#interface vlan27
S1_Shestakov(config-if)#ip address 192.168.1.29 255.255.255.0
S1_Shestakov(config-if)#no shutdown
S1_Shestakov(config-if)#exit
```

c. Ассоциируйте все пользовательские порты с VLAN X.
```
S1_Shestakov(config)#interface range f0/1 - 24,g0/1 - 2
S1_Shestakov(config-if-range)#switchport access vlan 27
```
d. Чтобы убедиться, что все порты находятся в сети VLAN X, выполните команду show vlan brief.
```
S1_Shestakov#show vlan brief
```
e. Настройте шлюз по умолчанию для коммутатора S1_ФАМИЛИЯ. Если не настроен ни один шлюз
по умолчанию, коммутатором нельзя управлять из удаленной сети, на пути к которой имеется
более одного маршрутизатора. Хотя в этом упражнении не учитывается внешний IP-шлюз,
представьте, что впоследствии вы подключите LAN к маршрутизатору для обеспечения внешнего
доступа. При условии, что интерфейс LAN маршрутизатора равен 192.168.1.1, настройте шлюз по
умолчанию для коммутатора
```
S1_Shestakov(config)#ip default-gateway 192.168.1.1
```
f. Доступ через порт консоли также следует ограничить с помощью пароля. Используйте cisco в
качестве пароля для входа в консоль в этом задании. Конфигурация по умолчанию разрешает все
консольные подключения без пароля. Чтобы консольные сообщения не прерывали выполнение
команд, используйте параметр logging synchronous в режиме конфигурации консоли.
```
S1_Shestakov(config)#line con 0
S1_Shestakov(config-line)#password cisco
S1_Shestakov(config-line)#login
S1_Shestakov(config-line)#logging  synchronous
```
g. Настройте каналы виртуального соединения для удаленного управления (vty), чтобы коммутатор
разрешил доступ через Telnet. Если не настроить пароль VTY, будет невозможно подключиться к
коммутатору по протоколу Telnet.
```
S1_Shestakov(config)#line vty 0 15
S1_Shestakov(config-line)#password cisco
S1_Shestakov(config-line)#login
S1_Shestakov(config-line)#end
```
a. Проверьте параметры административной VLAN X с помощью команды show interface.
Какова полоса пропускания этого интерфейса?
В каком состоянии находится VLAN X?
В каком состоянии находится канальный протокол?
```
S1_Shestakov#show run
S1_Shestakov#show interface vlan 27
```
d. Сохраните конфигурацию
```
S1_Shestakov>copy running-config startup-config
```
Шаг 2. Определите МАС-адреса, полученные коммутатором.
Откройте окно конфигурации
Отобразите МАС-адреса с помощью команды show mac address-table.
```
S1_Shestakov# ipconfig /all
```
Отобразите МАС-адреса с помощью команды show mac address-table.
Сколько динамических адресов присутствует? 1
Сколько МАС-адресов имеется в общей сложности? 1
Совпадает ли динамический MAC-адрес с МАС-адресом компьютера PC-A? да

a. Очистите таблицу MAC-адресов.
Чтобы удалить существующие МАС-адреса, в привилегированном режиме используйте команду clear mac address-table.
```
S1_Shestakov#clear mac address-table dynamic
```
b. Убедитесь, что таблица МАС-адресов очищена, введите команду для просмотра таблицы MACадресов.
Вопрос:
Сколько статических MAC-адресов присутствует сейчас в таблице?
Сколько динамических адресов присутствует?
```
S1_Shestakov#show mac address-table
```

d. Назначьте статический MAC-адрес.
Чтобы определить, к каким портам может подключиться узел, можно создать статическое
сопоставление узлового МАС-адреса с портом.
Настройте статический MAC-адрес на интерфейсе F0/6, используя адрес, записанный для PC-A в
части 4, на шаге 1. MAC-адрес 0050.56BE.6C89 используется только в качестве примера.
Необходимо использовать MAC-адрес компьютера PC-A, который отличается от указанного здесь
в качестве примера.
```
S1_Shestakov(config)#mac address-table static 0030.A34D.CCE3 vlan 27 interface fastethernet 0/6
```
e. Выполните проверку записей в таблице MAC-адресов.
Сколько всего динамических адресов присутствует?
Сколько статических адресов присутствует?
```
S1_Shestakov(config)#mac address-table static 0030.A34D.CCE3 vlan 27 interface fastethernet 0/6
```